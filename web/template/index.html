<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Argus Recon | SIGINT Dashboard</title>

    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=JetBrains+Mono:wght@400;700&display=swap" rel="stylesheet">
    <link href='https://unpkg.com/boxicons@2.1.4/css/boxicons.min.css' rel='stylesheet'>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

    <link rel="stylesheet" href="/static/css/style.css">
</head>

<body>
    <nav class="sidebar">
        <div class="logo">
            <i class='bx bx-radar'></i>
            <span>ARGUS RECON</span>
        </div>

        <ul class="nav-links">
            <li class="active" id="nav-dashboard"><a href="#dashboard"><i class='bx bx-network-chart'></i> Telemetry</a></li>
            <li id="nav-integrity"><a href="#integrity"><i class='bx bx-fingerprint'></i> Deep Scan</a></li>
            <li id="nav-settings"><a href="#settings"><i class='bx bx-slider-alt'></i> Config</a></li>
        </ul>

        <div class="connection-status">
            <div class="status-dot" id="conn-dot"></div>
            <div class="status-text">
                <span class="label">Interface Status</span>
                <span class="value" id="conn-text">SEARCHING...</span>
            </div>
        </div>
    </nav>

    <main class="main-content">
        <header class="top-header">
            <div class="header-title">
                <h1>Signal Intelligence Dashboard</h1>
                <p>Argus Recon v2.1 â€¢ Multi-layer BLE Proxy & Analysis</p>
            </div>

            <button id="btn-disconnect" class="btn-danger hidden" onclick="disconnectTrainer()">
                <i class='bx bx-unlink'></i> Terminate Link
            </button>
        </header>

        <section id="view-dashboard" class="view-section">
            <div class="kpi-grid">
                <div class="card kpi-card">
                    <div class="kpi-icon icon-input"><i class='bx bx-import'></i></div>
                    <div class="kpi-info">
                        <span class="label">Raw Ingress</span>
                        <div class="value-group">
                            <span class="value" id="val-real">0</span>
                            <span class="unit">W</span>
                        </div>
                    </div>
                </div>

                <div class="card kpi-card">
                    <div class="kpi-icon icon-output"><i class='bx bx-export'></i></div>
                    <div class="kpi-info">
                        <span class="label">Spoofed Egress</span>
                        <div class="value-group">
                            <span class="value text-glow" id="val-out">0</span>
                            <span class="unit">W</span>
                        </div>
                    </div>
                </div>

                <div class="card kpi-card secondary">
                    <div class="kpi-info">
                        <span class="label">Bio-Metric (HR)</span>
                        <div class="value-group">
                            <span class="value text-glow" id="val-hr">--</span>
                            <span class="unit">BPM</span>
                        </div>
                    </div>
                </div>
            </div>

            <div class="dashboard-split">
                <div class="card chart-section">
                    <div class="card-header">
                        <h3>Telemetry Stream</h3>
                        <div class="live-badge"><span class="pulse"></span> SYNCED</div>
                    </div>
                    <div class="chart-wrapper"><canvas id="powerChart"></canvas></div>
                </div>

                <div class="card control-section">
                    <div class="card-header">
                        <h3>Injection Vector</h3>
                    </div>

                    <div class="mode-selector">
                        <div class="mode-option active" id="mode-sim" onclick="setMode('sim')">
                            <div class="icon"><i class='bx bx-ghost'></i></div>
                            <div class="info"><span class="title">Ghost Protocol</span><span class="desc">Synthetic Identity Generation</span></div>
                        </div>
                        <div class="mode-option" id="mode-bridge" onclick="setMode('bridge')">
                            <div class="icon"><i class='bx bx-shuffle'></i></div>
                            <div class="info"><span class="title">MITM Proxy</span><span class="desc">Active Packet Injection</span></div>
                        </div>
                    </div>

                    <div class="separator"></div>

                    <div id="ctrl-sim" class="control-panel">
                        <div class="slider-header"><label>Base Output</label><span class="slider-value" id="lbl-sim">150
                                W</span></div>
                        <input type="range" class="tech-slider" min="50" max="600" value="150"
                            oninput="sendSim(this.value)">
                    </div>

                    <div id="ctrl-bridge" class="control-panel hidden">
                        <div class="toggle-group">
                            <label>Vector Type</label>
                            <div class="toggle-switch">
                                <button id="btn-fix" class="t-btn active" onclick="setBoostType('fix')">Static</button>
                                <button id="btn-pct" class="t-btn" onclick="setBoostType('pct')">Scale</button>
                            </div>
                        </div>
                        <div class="slider-header" style="margin-top: 20px;">
                            <label>Payload Gain</label>
                            <span class="slider-value highlight">+<span id="lbl-boost">0</span> <span
                                    id="lbl-unit">W</span></span>
                        </div>
                        <input type="range" id="slider-boost" class="tech-slider attack" min="0" max="300" value="0"
                            oninput="sendBoost(this.value)">
                    </div>
                </div>
            </div>
        </section>

        <section id="view-integrity" class="view-section hidden">
            <div class="integrity-grid">
                <div class="card panel">
                    <div class="card-header">
                        <h3>Acquired Targets</h3>
                    </div>
                    <div id="targets-list" class="targets-list"></div>
                </div>

                <div class="card panel">
                    <div class="card-header">
                        <h3>Deep Introspection Profile</h3>
                    </div>
                    
                    <div class="signals-header">Kinetic Analysis (RTT & Timing)</div>
                    <div class="signals">
                        <div>Classification <span id="sig-class" class="text-glow">--</span></div>
                        <div>Mean Latency <span id="sig-latency">--</span></div>
                        <div>Signal Jitter <span id="sig-jitter">--</span></div>
                        <div>Notify Freq <span id="sig-hz">--</span></div>
                        <div>Drift Variance <span id="sig-drift">--</span></div>
                        <div>Stress Factor <span id="sig-stress">--</span></div>
                    </div>

                    <div class="signals-header mt-15">Static Hardware Fingerprint</div>
                    <div class="signals">
                        <div>OUI / MAC <span id="sig-oui">--</span></div>
                        <div>Vendor Guess <span id="sig-vendor">--</span></div>
                        <div class="full-width">MFG Data <span id="sig-mfg-data" class="mono-text">--</span></div>
                        <div class="full-width">GATT SHA-256 <br><span id="sig-gatt-hash" class="hash-box">--</span></div>
                    </div>

                    <div class="signals-header mt-15">Engine Logs</div>
                    <ul id="reason-list" class="reasons"></ul>

                    <div class="chart-wrapper" style="height:150px; margin-top:20px;">
                        <canvas id="integrityChart"></canvas>
                    </div>
                </div>
            </div>
        </section>

        <section id="view-settings" class="view-section hidden">
            <div class="card panel">
                <div class="card-header">
                    <h3>Module Configuration</h3>
                </div>
                <p class="target-meta">Extended configuration matrices will be exposed here.</p>
            </div>
        </section>
    </main>

    <script src="/static/js/app.js"></script>
</body>

</html>